<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ejercicios - Juegos por Selecci√≥n</title>
  <link rel="stylesheet" href="dise√±o.css" />
  <style>
    /* Estilos base que ten√≠as */
    .win-message {
      font-size: 2rem;
      color: #4caf50;
      margin-top: 20px;
      display: none;
      text-shadow: 2px 2px 5px #000;
    }
    select {
      font-size: 1rem;
      padding: 10px 15px;
      margin: 20px auto;
      background-color: #b60000;
      color: white;
      border: none;
      border-radius: 5px;
      box-shadow: 0 0 10px #ff4d4d, 0 0 20px #ff1a1a;
      text-align: center;
      display: block;
      max-width: 250px;
    }
    select:focus {
      outline: none;
      background-color: #910606;
    }
    .game-board {
      display: grid;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }
    .card {
      background-color: #444;
      color: white;
      font-size: 2rem;
      width: 90px;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 10px;
      user-select: none;
      box-shadow: 0 0 5px #ff4d4d, 0 0 10px #ff1a1a;
      transition: background-color 0.3s, color 0.3s;
    }
    .card.flipped {
      background-color: #fff;
      color: #000;
      cursor: default;
    }
    .card.matched {
      background-color: #4caf50;
      color: white;
      cursor: default;
    }

    /* Contenedores juegos */
    .game-container {
      display: none;
      margin-top: 20px;
      text-align: center;
    }
    .game-container.active {
      display: block;
    }

    /* Estilos juego Simon y colores simples */
    .color-button {
      width: 80px;
      height: 80px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 5px #000;
      display: inline-block;
      opacity: 0.7;
      transition: opacity 0.3s;
    }
    .color-button.active {
      opacity: 1;
      box-shadow: 0 0 20px #fff;
    }

    /* Para colores simples m√°s grandes */
    #colorMemoryButtons .color-button {
      width: 120px;
      height: 120px;
    }
  </style>
</head>
<body class="fade-in">

  <header>
    <div class="logo-header">
      <img src="logo.png" alt="Logo" class="logo" />
    </div>
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="sobre.nosotros.html">Sobre Nosotros</a></li>
        <li><a href="ejercicios.html">Ejercicios</a></li>
        <li><a href="contactos.html">Consultas</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h1>Ejercicios de Memoria y Juegos</h1>

    <label for="gameSelect">Selecciona el juego:</label>
    <select id="gameSelect">
      <option value="memorama">Memorama Cl√°sico</option>
      <option value="simon">Simon Dice</option>
      <option value="colorMemory">Memoria de Colores Simples</option>
      <option value="imageMemory">Memoria de Im√°genes Grandes</option>
    </select>

    <!-- Memorama cl√°sico -->
    <div id="memorama" class="game-container">
      <label for="difficulty">Selecciona el nivel:</label>
      <select id="difficulty">
        <option value="8">F√°cil (8 cartas)</option>
        <option value="16">Medio (16 cartas)</option>
        <option value="24" selected>Dif√≠cil (24 cartas)</option>
      </select>

      <div class="game-board" id="board"></div>
      <div id="winMessage" class="win-message">&#x1F389; ¬°Ganaste! &#x1F389;</div>
    </div>

    <!-- Simon dice -->
    <div id="simon" class="game-container">
      <p>Repite la secuencia de colores en orden. Haz clic en el bot√≥n "Comenzar" para iniciar.</p>
      <div id="simonButtons">
        <div class="color-button" data-color="red" style="background-color: #e74c3c;"></div>
        <div class="color-button" data-color="blue" style="background-color: #3498db;"></div>
        <div class="color-button" data-color="green" style="background-color: #2ecc71;"></div>
        <div class="color-button" data-color="yellow" style="background-color: #f1c40f;"></div>
      </div>
      <button id="startSimon" style="margin-top:20px; padding:10px 15px; background:#b60000; color:#fff; border:none; border-radius:5px; cursor:pointer;">Comenzar</button>
      <div id="simonMessage" class="win-message" style="color:#b60000;"></div>
    </div>

    <!-- Memoria de colores simples -->
    <div id="colorMemory" class="game-container">
      <p>Repite la secuencia de colores simples en orden.</p>
      <div id="colorMemoryButtons">
        <div class="color-button" data-color="red" style="background-color: #e74c3c;"></div>
        <div class="color-button" data-color="blue" style="background-color: #3498db;"></div>
        <div class="color-button" data-color="green" style="background-color: #2ecc71;"></div>
      </div>
      <button id="startColorMemory" style="margin-top:20px; padding:10px 15px; background:#b60000; color:#fff; border:none; border-radius:5px; cursor:pointer;">Comenzar</button>
      <div id="colorMemoryMessage" class="win-message" style="color:#b60000;"></div>
    </div>

    <!-- Memoria de im√°genes grandes con dificultad -->
    <div id="imageMemory" class="game-container" style="text-align:center;">
      <label for="imageDifficulty">Selecciona el nivel:</label>
      <select id="imageDifficulty">
        <option value="6">F√°cil (6 cartas)</option>
        <option value="12" selected>Medio (12 cartas)</option>
        <option value="18">Dif√≠cil (18 cartas)</option>
      </select>

      <p>Encuentra los pares de im√°genes grandes.</p>
      <div class="game-board" id="imageBoard" style="justify-content:center;"></div>
      <div id="imageWinMessage" class="win-message">&#x1F389; ¬°Ganaste! &#x1F389;</div>
    </div>
  </main>

  <footer>
    &copy; 2025 MindCare.com - Todos los derechos reservados
  </footer>

  <script>
    // Funci√≥n para pausar
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    // Memorama cl√°sico
    const allSymbols = [
      "üçé", "üöó", "üê∂", "üéµ", "üåû", "üåà", "ü¶§", "üé≤",
      "üéÅ", "üßπ", "üçï", "üöÄ", "üê±", "‚öΩ", "üìö", "üß∏"
    ];
    const board = document.getElementById('board');
    const difficultySelect = document.getElementById('difficulty');
    const winMessage = document.getElementById('winMessage');
    let flippedCards = [];
    let lockBoard = false;
    let matchedCount = 0;
    let totalPairs = 0;

    function setupBoard(cardCount) {
      board.innerHTML = '';
      winMessage.style.display = 'none';
      flippedCards = [];
      lockBoard = false;
      matchedCount = 0;
      totalPairs = cardCount / 2;

      const pairCount = cardCount / 2;
      const symbols = allSymbols.slice(0, pairCount);
      let cards = [...symbols, ...symbols];
      cards.sort(() => Math.random() - 0.5);

      if (cardCount === 8 || cardCount === 16) {
        board.style.gridTemplateColumns = 'repeat(4, 90px)';
      } else if (cardCount === 24) {
        board.style.gridTemplateColumns = 'repeat(6, 90px)';
      }

      cards.forEach((symbol, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.symbol = symbol;
        card.dataset.index = index;
        card.textContent = "";
        board.appendChild(card);
      });
    }

    board.addEventListener('click', function(e) {
      const card = e.target;
      if (!card.classList.contains('card') || card.classList.contains('flipped') || lockBoard) return;

      card.classList.add('flipped');
      card.textContent = card.dataset.symbol;
      flippedCards.push(card);

      if (flippedCards.length === 2) {
        lockBoard = true;
        const [first, second] = flippedCards;

        if (first.dataset.symbol === second.dataset.symbol) {
          first.classList.add('matched');
          second.classList.add('matched');
          flippedCards = [];
          matchedCount++;
          lockBoard = false;

          if (matchedCount === totalPairs) {
            winMessage.style.display = 'block';
          }
        } else {
          setTimeout(() => {
            first.classList.remove('flipped');
            second.classList.remove('flipped');
            first.textContent = "";
            second.textContent = "";
            flippedCards = [];
            lockBoard = false;
          }, 1000);
        }
      }
    });

    difficultySelect.addEventListener('change', () => {
      setupBoard(parseInt(difficultySelect.value));
    });

    // Simon dice
    const simonButtons = document.querySelectorAll('#simonButtons .color-button');
    const startSimonBtn = document.getElementById('startSimon');
    const simonMessage = document.getElementById('simonMessage');

    let simonSequence = [];
    let userSequence = [];
    let simonTurn = true;
    let simonPlaying = false;
    const colors = ['red', 'blue', 'green', 'yellow'];

    async function playSimonSequence() {
      simonPlaying = true;
      for (const color of simonSequence) {
        const btn = document.querySelector(`#simonButtons .color-button[data-color="${color}"]`);
        btn.classList.add('active');
        await sleep(600);
        btn.classList.remove('active');
        await sleep(200);
      }
      simonPlaying = false;
    }

    function addColorToSimonSequence() {
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      simonSequence.push(randomColor);
    }

    startSimonBtn.addEventListener('click', async () => {
      simonSequence = [];
      userSequence = [];
      simonMessage.textContent = '';
      addColorToSimonSequence();
      await playSimonSequence();
      simonTurn = false;
    });

    simonButtons.forEach(btn => {
      btn.addEventListener('click', async () => {
        if (simonTurn || simonPlaying) return;
        const color = btn.dataset.color;
        userSequence.push(color);

        btn.classList.add('active');
        setTimeout(() => btn.classList.remove('active'), 300);

        for (let i = 0; i < userSequence.length; i++) {
          if (userSequence[i] !== simonSequence[i]) {
            simonMessage.textContent = '¬°Int√©ntalo de nuevo!';
            userSequence = [];
            return;
          }
        }

        if (userSequence.length === simonSequence.length) {
          if (simonSequence.length === 10) {
            simonMessage.textContent = 'üéâ ¬°Ganaste! üéâ';
            return;
          }
          userSequence = [];
          addColorToSimonSequence();
          await sleep(500);
          await playSimonSequence();
        }
      });
    });

    // Memoria de colores simples
    const colorMemoryButtons = document.querySelectorAll('#colorMemoryButtons .color-button');
    const startColorMemoryBtn = document.getElementById('startColorMemory');
    const colorMemoryMessage = document.getElementById('colorMemoryMessage');

    let colorMemorySequence = [];
    let userColorMemorySequence = [];
    let colorMemoryTurn = true;
    let colorMemoryPlaying = false;
    const simpleColors = ['red', 'blue', 'green'];

    async function playColorMemorySequence() {
      colorMemoryPlaying = true;
      for (const color of colorMemorySequence) {
        const btn = document.querySelector(`#colorMemoryButtons .color-button[data-color="${color}"]`);
        btn.classList.add('active');
        await sleep(600);
        btn.classList.remove('active');
        await sleep(200);
      }
      colorMemoryPlaying = false;
    }

    function addColorToColorMemorySequence() {
      const randomColor = simpleColors[Math.floor(Math.random() * simpleColors.length)];
      colorMemorySequence.push(randomColor);
    }

    startColorMemoryBtn.addEventListener('click', async () => {
      colorMemorySequence = [];
      userColorMemorySequence = [];
      colorMemoryMessage.textContent = '';
      addColorToColorMemorySequence();
      await playColorMemorySequence();
      colorMemoryTurn = false;
    });

    colorMemoryButtons.forEach(btn => {
      btn.addEventListener('click', async () => {
        if (colorMemoryTurn || colorMemoryPlaying) return;
        const color = btn.dataset.color;
        userColorMemorySequence.push(color);

        btn.classList.add('active');
        setTimeout(() => btn.classList.remove('active'), 300);

        for (let i = 0; i < userColorMemorySequence.length; i++) {
          if (userColorMemorySequence[i] !== colorMemorySequence[i]) {
            colorMemoryMessage.textContent = '¬°Int√©ntalo de nuevo!';
            userColorMemorySequence = [];
            return;
          }
        }

        if (userColorMemorySequence.length === colorMemorySequence.length) {
          if (colorMemorySequence.length === 10) {
            colorMemoryMessage.textContent = 'üéâ ¬°Ganaste! üéâ';
            return;
          }
          userColorMemorySequence = [];
          addColorToColorMemorySequence();
          await sleep(500);
          await playColorMemorySequence();
        }
      });
    });

    // Memoria de im√°genes grandes con dificultad
    const imageBoard = document.getElementById('imageBoard');
    const imageDifficultySelect = document.getElementById('imageDifficulty');
    const imageWinMessage = document.getElementById('imageWinMessage');

    let imageSymbolsBig = [
      "üçé", "üê∂", "üöó", "üéµ", "üåû", "üåà", "ü¶§", "üé≤", "üéÅ"
    ]; // Hasta 9 pares (18 cartas)
    let flippedImageCards = [];
    let matchedImagePairs = 0;
    let lockImageBoard = false;
    let imageCards = [];

    function setupImageMemory() {
      imageBoard.innerHTML = '';
      imageWinMessage.style.display = 'none';
      flippedImageCards = [];
      matchedImagePairs = 0;
      lockImageBoard = false;

      const pairsCount = parseInt(imageDifficultySelect.value) / 2;
      const symbolsToUse = imageSymbolsBig.slice(0, pairsCount);
      imageCards = [...symbolsToUse, ...symbolsToUse];
      imageCards.sort(() => Math.random() - 0.5);

      // Ajustar columnas (m√°ximo 6)
      let columns = pairsCount <= 3 ? pairsCount * 2 : 6;
      imageBoard.style.gridTemplateColumns = `repeat(${columns}, 120px)`;

      imageCards.forEach((symbol, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.style.width = '120px';
        card.style.height = '120px';
        card.style.fontSize = '4rem';
        card.dataset.symbol = symbol;
        card.dataset.index = index;
        card.textContent = '';
        imageBoard.appendChild(card);
      });
    }

    imageBoard.addEventListener('click', (e) => {
      const card = e.target;
      if (!card.classList.contains('card') || card.classList.contains('flipped') || lockImageBoard) return;

      card.classList.add('flipped');
      card.textContent = card.dataset.symbol;
      flippedImageCards.push(card);

      if (flippedImageCards.length === 2) {
        lockImageBoard = true;
        const [first, second] = flippedImageCards;

        if (first.dataset.symbol === second.dataset.symbol) {
          first.classList.add('matched');
          second.classList.add('matched');
          flippedImageCards = [];
          matchedImagePairs++;
          lockImageBoard = false;

          if (matchedImagePairs === imageCards.length / 2) {
            imageWinMessage.style.display = 'block';
          }
        } else {
          setTimeout(() => {
            first.classList.remove('flipped');
            second.classList.remove('flipped');
            first.textContent = '';
            second.textContent = '';
            flippedImageCards = [];
            lockImageBoard = false;
          }, 1000);
        }
      }
    });

    imageDifficultySelect.addEventListener('change', () => {
      setupImageMemory();
    });

    // Mostrar/ocultar juegos seg√∫n selecci√≥n
    const gameSelect = document.getElementById('gameSelect');
    const gameContainers = document.querySelectorAll('.game-container');

    function showGame(id) {
      gameContainers.forEach(c => {
        if (c.id === id) c.classList.add('active');
        else c.classList.remove('active');
      });

      // Mostrar/ocultar select dificultad solo para juegos que lo usan
      if (id === 'memorama') {
        difficultySelect.style.display = 'block';
        setupBoard(parseInt(difficultySelect.value));
      } else {
        difficultySelect.style.display = 'none';
      }

      if (id === 'imageMemory') {
        setupImageMemory();
      } else {
        imageWinMessage.style.display = 'none';
      }

      // Reset mensajes y estados de los otros juegos
      if (id !== 'simon') {
        simonMessage.textContent = '';
        simonSequence = [];
        userSequence = [];
        simonTurn = true;
        simonPlaying = false;
      }
      if (id !== 'colorMemory') {
        colorMemoryMessage.textContent = '';
        colorMemorySequence = [];
        userColorMemorySequence = [];
        colorMemoryTurn = true;
        colorMemoryPlaying = false;
      }
      if (id !== 'memorama') {
        winMessage.style.display = 'none';
      }
    }

    gameSelect.addEventListener('change', e => {
      showGame(e.target.value);
    });

    // Inicializar
    showGame(gameSelect.value);
  </script>
</body>
</html>
